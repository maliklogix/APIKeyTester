<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>API Key Tester</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;}
    :root{
      --bg:#07080f;
      --surface:#0d0f1a;
      --surface2:#111526;
      --border:#1e2235;
      --border2:#252a40;
      --accent:#6366f1;
      --accent2:#8b5cf6;
      --text:#e2e8f0;
      --muted:#64748b;
      --muted2:#94a3b8;
    }
    /* ── Light theme ── */
    body.light{
      --bg:#f1f5f9;
      --surface:#ffffff;
      --surface2:#f8fafc;
      --border:#e2e8f0;
      --border2:#cbd5e1;
      --text:#0f172a;
      --muted:#64748b;
      --muted2:#475569;
    }
    body.light .bg-glow,.light .bg-glow2{opacity:.3;}
    body.light ::-webkit-scrollbar-thumb{background:#cbd5e1;}
    body.light .nav-item.active{background:linear-gradient(135deg,rgba(99,102,241,.15),rgba(139,92,246,.1));color:#4f46e5;}
    body.light .logo-badge{box-shadow:0 0 16px rgba(99,102,241,.25);}
    body.light .btn-primary{box-shadow:0 0 12px rgba(99,102,241,.25);}
    body.light .card{box-shadow:0 1px 4px rgba(0,0,0,.06);}
    body.light .input{background:#f8fafc;color:#0f172a;}
    body.light .input::placeholder{color:#94a3b8;}
    body.light select.input option{background:#ffffff;}
    body.light .api-card:hover{border-color:rgba(99,102,241,.4);}
    body.light .result-box.success{background:rgba(16,185,129,.06);border-color:rgba(16,185,129,.2);}
    body.light .result-box.error{background:rgba(239,68,68,.06);border-color:rgba(239,68,68,.2);}
    body.light .result-box.warning{background:rgba(245,158,11,.06);border-color:rgba(245,158,11,.2);}
    body.light .stat-card{background:#ffffff;border-color:#e2e8f0;}
    body.light .filter-chip.active{background:#4f46e5;}
    body.light .history-row{background:#ffffff;border-color:#e2e8f0;}
    body.light .history-row:hover{border-color:rgba(99,102,241,.3);}
    body.light .faq-item{background:#ffffff;border-color:#e2e8f0;}

    /* theme transition */
    body,body *{transition:background-color .25s,border-color .25s,color .18s,box-shadow .25s;}
    body{background:var(--bg);color:var(--text);font-family:'Inter',system-ui,sans-serif;min-height:100vh;display:flex;}

    /* Scrollbar */
    ::-webkit-scrollbar{width:5px;height:5px;}
    ::-webkit-scrollbar-track{background:transparent;}
    ::-webkit-scrollbar-thumb{background:#1e2235;border-radius:8px;}
    ::-webkit-scrollbar-thumb:hover{background:#252a40;}

    /* ── Sidebar ── */
    .sidebar{
      width:256px;min-width:256px;background:var(--surface);
      border-right:1px solid var(--border);
      display:flex;flex-direction:column;
      position:fixed;top:0;left:0;height:100vh;z-index:20;
    }
    .sidebar-logo{
      padding:20px 20px 16px;
      border-bottom:1px solid var(--border);
    }
    .logo-badge{
      width:36px;height:36px;border-radius:10px;
      background:linear-gradient(135deg,#6366f1,#8b5cf6);
      display:flex;align-items:center;justify-content:center;
      font-weight:700;font-size:15px;color:white;
      box-shadow:0 0 16px rgba(99,102,241,0.4);
      flex-shrink:0;
    }
    .sidebar-nav{flex:1;overflow-y:auto;padding:8px 0;}
    .nav-section-label{
      font-size:10px;font-weight:600;letter-spacing:.08em;
      color:var(--muted);text-transform:uppercase;
      padding:4px 12px;margin-top:16px;margin-bottom:4px;
    }
    .nav-item{
      display:flex;align-items:center;gap:10px;
      padding:9px 12px;border-radius:8px;
      font-size:13px;font-weight:500;cursor:pointer;
      color:var(--muted2);transition:all .15s;margin:1px 8px;
    }
    .nav-item:hover{background:var(--surface2);color:var(--text);}
    .nav-item.active{
      background:linear-gradient(135deg,rgba(99,102,241,.2),rgba(139,92,246,.15));
      color:#a5b4fc;
      border:1px solid rgba(99,102,241,.25);
      box-shadow:0 0 12px rgba(99,102,241,.1);
    }
    .nav-item.active svg{color:#818cf8;}
    .nav-item svg{width:16px;height:16px;flex-shrink:0;opacity:.7;}
    .nav-item.active svg{opacity:1;}
    .nav-count{
      margin-left:auto;font-size:11px;font-weight:600;
      background:var(--surface2);border:1px solid var(--border);
      padding:1px 7px;border-radius:10px;color:var(--muted);
    }
    .nav-item.active .nav-count{background:rgba(99,102,241,.15);border-color:rgba(99,102,241,.3);color:#a5b4fc;}

    .sidebar-footer{
      padding:12px 16px;border-top:1px solid var(--border);
      display:flex;align-items:center;justify-content:space-between;
    }

    /* ── Buttons ── */
    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      gap:6px;padding:8px 14px;border-radius:8px;
      font-size:13px;font-weight:500;cursor:pointer;
      transition:all .18s;border:none;outline:none;text-decoration:none;
      white-space:nowrap;font-family:'Inter',system-ui,sans-serif;
    }
    .btn-primary{
      background:linear-gradient(135deg,#6366f1,#7c3aed);
      color:white;box-shadow:0 0 16px rgba(99,102,241,.35);
    }
    .btn-primary:hover{
      background:linear-gradient(135deg,#4f46e5,#6d28d9);
      box-shadow:0 0 24px rgba(99,102,241,.55);transform:translateY(-1px);
    }
    .btn-primary:active{transform:translateY(0);}
    .btn-primary:disabled{opacity:.5;cursor:not-allowed;transform:none;box-shadow:none;}
    .btn-secondary{
      background:var(--surface2);border:1px solid var(--border2);
      color:var(--muted2);
    }
    .btn-secondary:hover{border-color:#6366f1;color:var(--text);background:rgba(99,102,241,.08);}
    .btn-ghost{background:transparent;color:var(--muted2);}
    .btn-ghost:hover{color:var(--text);background:var(--surface2);}
    .btn-danger{background:rgba(239,68,68,.12);border:1px solid rgba(239,68,68,.2);color:#f87171;}
    .btn-danger:hover{background:rgba(239,68,68,.2);border-color:rgba(239,68,68,.4);}
    .btn-sm{padding:5px 10px;font-size:12px;border-radius:6px;}
    .btn-xs{padding:3px 8px;font-size:11px;border-radius:5px;}

    /* ── Cards ── */
    .card{
      background:var(--surface);border:1px solid var(--border);
      border-radius:12px;
    }

    /* ── Inputs ── */
    .input{
      width:100%;background:var(--surface2);
      border:1px solid var(--border2);
      border-radius:8px;padding:9px 12px;
      font-size:13px;color:var(--text);
      outline:none;transition:border-color .15s,box-shadow .15s;
      font-family:'Inter',system-ui,sans-serif;
    }
    .input:focus{border-color:#6366f1;box-shadow:0 0 0 3px rgba(99,102,241,.12);}
    .input::placeholder{color:var(--muted);}

    /* ── Badges ── */
    .badge{
      display:inline-flex;align-items:center;gap:4px;
      font-size:11px;font-weight:500;padding:3px 8px;border-radius:20px;
    }
    .badge-green{background:rgba(16,185,129,.12);color:#34d399;border:1px solid rgba(16,185,129,.2);}
    .badge-red{background:rgba(239,68,68,.12);color:#f87171;border:1px solid rgba(239,68,68,.2);}
    .badge-yellow{background:rgba(245,158,11,.12);color:#fbbf24;border:1px solid rgba(245,158,11,.2);}
    .badge-blue{background:rgba(59,130,246,.12);color:#60a5fa;border:1px solid rgba(59,130,246,.2);}
    .badge-indigo{background:rgba(99,102,241,.15);color:#a5b4fc;border:1px solid rgba(99,102,241,.25);}
    .badge-purple{background:rgba(139,92,246,.12);color:#c4b5fd;border:1px solid rgba(139,92,246,.2);}

    /* ── Sections ── */
    .section{display:none;}
    .section.active{display:block;}

    /* ── Page header ── */
    .page-header{margin-bottom:24px;}
    .page-title{font-size:20px;font-weight:700;color:var(--text);letter-spacing:-.02em;}
    .page-sub{font-size:13px;color:var(--muted);margin-top:3px;}

    /* ── Main content ── */
    .main{margin-left:256px;flex:1;padding:28px 32px;min-height:100vh;}

    /* ── Background glow ── */
    .bg-glow{
      position:fixed;pointer-events:none;z-index:0;
      width:600px;height:600px;border-radius:50%;
      background:radial-gradient(ellipse,rgba(99,102,241,.06) 0%,transparent 70%);
      top:-100px;right:-100px;
    }
    .bg-glow2{
      position:fixed;pointer-events:none;z-index:0;
      width:400px;height:400px;border-radius:50%;
      background:radial-gradient(ellipse,rgba(139,92,246,.04) 0%,transparent 70%);
      bottom:100px;left:200px;
    }
    .main>*{position:relative;z-index:1;}

    /* ── Toast ── */
    .toast{
      position:fixed;top:20px;right:20px;z-index:100;
      background:var(--surface2);border:1px solid var(--border2);
      border-radius:10px;padding:12px 16px;font-size:13px;
      display:flex;align-items:center;gap:10px;min-width:260px;max-width:380px;
      box-shadow:0 8px 32px rgba(0,0,0,.4);
      animation:slideIn .2s ease-out;
    }
    @keyframes slideIn{from{opacity:0;transform:translateX(16px);}to{opacity:1;transform:translateX(0);}}
    .toast-success{border-left:3px solid #34d399;}
    .toast-error{border-left:3px solid #f87171;}
    .toast-info{border-left:3px solid #60a5fa;}

    /* ── Animations ── */
    .loading-spinner{
      border:2.5px solid var(--border2);border-top-color:#6366f1;
      border-radius:50%;width:16px;height:16px;
      animation:spin .7s linear infinite;flex-shrink:0;
    }
    @keyframes spin{to{transform:rotate(360deg);}}

    @keyframes pulse-border{
      0%,100%{border-color:var(--border);}
      50%{border-color:rgba(99,102,241,.5);}
    }

    /* ── Stat cards ── */
    .stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:24px;}
    .stat-card{
      background:var(--surface);border:1px solid var(--border);border-radius:12px;
      padding:16px;display:flex;align-items:center;gap:12px;
    }
    .stat-icon{
      width:40px;height:40px;border-radius:10px;
      display:flex;align-items:center;justify-content:center;flex-shrink:0;
    }
    .stat-value{font-size:20px;font-weight:700;letter-spacing:-.02em;}
    .stat-label{font-size:11px;color:var(--muted);margin-top:1px;}

    /* ── Filter chips ── */
    .filter-bar{display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap;}
    .filter-chip{
      padding:6px 14px;border-radius:20px;font-size:12px;font-weight:500;
      background:var(--surface2);border:1px solid var(--border);color:var(--muted);
      cursor:pointer;transition:all .15s;
    }
    .filter-chip:hover{border-color:var(--accent);color:var(--text);}
    .filter-chip.active{background:var(--accent);border-color:var(--accent);color:white;}

    /* ── API Cards Grid ── */
    .api-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;}
    @media(max-width:1200px){.api-grid{grid-template-columns:repeat(2,1fr);}}
    @media(max-width:768px){
      .api-grid{grid-template-columns:1fr;}
      .stats-grid{grid-template-columns:repeat(2,1fr);}
      .sidebar{display:none;}
      .main{margin-left:0;}
    }

    .api-card{
      background:var(--surface);border:1px solid var(--border);border-radius:12px;
      padding:20px;transition:border-color .2s,transform .2s,box-shadow .2s;
    }
    .api-card:hover{border-color:rgba(99,102,241,.3);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.15);}
    .api-card.testing{animation:pulse-border 1.2s ease-in-out infinite;}
    .api-card-header{display:flex;align-items:center;gap:12px;margin-bottom:12px;}
    .api-icon{
      width:40px;height:40px;border-radius:10px;
      display:flex;align-items:center;justify-content:center;
      font-weight:700;font-size:14px;color:white;flex-shrink:0;
    }
    .api-name{font-size:14px;font-weight:600;}
    .api-desc{font-size:12px;color:var(--muted);margin-bottom:14px;line-height:1.5;}
    .key-input-wrap{position:relative;margin-bottom:10px;}
    .key-input-wrap .input{padding-right:36px;}
    .key-toggle{
      position:absolute;right:8px;top:50%;transform:translateY(-50%);
      background:none;border:none;cursor:pointer;color:var(--muted);padding:4px;
      display:flex;align-items:center;
    }
    .key-toggle:hover{color:var(--text);}
    .api-actions{display:flex;gap:8px;margin-bottom:0;}

    /* ── Result box ── */
    .result-box{
      margin-top:12px;padding:12px;border-radius:8px;font-size:12px;
      display:none;line-height:1.6;
    }
    .result-box.visible{display:block;animation:fadeIn .2s ease-out;}
    @keyframes fadeIn{from{opacity:0;transform:translateY(4px);}to{opacity:1;transform:translateY(0);}}
    .result-box.success{background:rgba(16,185,129,.08);border:1px solid rgba(16,185,129,.2);color:#34d399;}
    .result-box.error{background:rgba(239,68,68,.08);border:1px solid rgba(239,68,68,.2);color:#f87171;}
    .result-box.warning{background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.2);color:#fbbf24;}
    .result-header{display:flex;align-items:center;gap:8px;font-weight:600;font-size:13px;margin-bottom:6px;}
    .result-detail{color:var(--muted2);font-size:11px;line-height:1.7;}
    .result-detail span{color:var(--text);font-weight:500;}

    /* ── History ── */
    .history-row{
      background:var(--surface);border:1px solid var(--border);border-radius:10px;
      padding:12px 16px;display:flex;align-items:center;gap:12px;
      margin-bottom:8px;transition:border-color .15s;
    }
    .history-row:hover{border-color:rgba(99,102,241,.3);}
    .history-icon{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:white;flex-shrink:0;}
    .history-info{flex:1;min-width:0;}
    .history-name{font-size:13px;font-weight:600;}
    .history-time{font-size:11px;color:var(--muted);}
    .history-meta{display:flex;align-items:center;gap:8px;flex-shrink:0;}

    /* ── FAQ ── */
    .faq-item{
      background:var(--surface);border:1px solid var(--border);border-radius:10px;
      margin-bottom:8px;overflow:hidden;
    }
    .faq-q{
      padding:14px 16px;font-size:13px;font-weight:600;cursor:pointer;
      display:flex;align-items:center;justify-content:space-between;
      transition:background .15s;
    }
    .faq-q:hover{background:var(--surface2);}
    .faq-a{
      padding:0 16px 14px;font-size:12px;color:var(--muted2);line-height:1.7;
      display:none;
    }
    .faq-item.open .faq-a{display:block;}
    .faq-item.open .faq-arrow{transform:rotate(180deg);}
    .faq-arrow{transition:transform .2s;color:var(--muted);}

    /* ── How-it-works steps ── */
    .steps{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:24px 0;}
    .step{
      background:var(--surface);border:1px solid var(--border);border-radius:12px;
      padding:20px;text-align:center;
    }
    .step-num{
      width:36px;height:36px;border-radius:50%;margin:0 auto 12px;
      display:flex;align-items:center;justify-content:center;
      font-weight:700;font-size:14px;color:white;
      background:linear-gradient(135deg,#6366f1,#7c3aed);
      box-shadow:0 0 12px rgba(99,102,241,.3);
    }
    .step-title{font-size:13px;font-weight:600;margin-bottom:4px;}
    .step-desc{font-size:12px;color:var(--muted);line-height:1.5;}

    /* ── Empty state ── */
    .empty-state{
      text-align:center;padding:48px 24px;color:var(--muted);
    }
    .empty-state svg{width:48px;height:48px;margin-bottom:12px;opacity:.4;}
    .empty-state p{font-size:13px;margin-top:6px;}

    /* ── Theme toggle ── */
    .theme-btn{
      width:34px;height:34px;border-radius:8px;
      display:flex;align-items:center;justify-content:center;
      background:var(--surface2);border:1px solid var(--border);
      cursor:pointer;color:var(--muted);transition:all .15s;
    }
    .theme-btn:hover{border-color:var(--accent);color:var(--text);}
    .theme-btn svg{width:16px;height:16px;}

    .label{display:block;font-size:12px;font-weight:500;color:var(--muted2);margin-bottom:5px;}
    .divider{border:none;border-top:1px solid var(--border);margin:16px 0;}
  </style>
</head>
<body>

<!-- Background glows -->
<div class="bg-glow"></div>
<div class="bg-glow2"></div>

<!-- ══════════════════ SIDEBAR ══════════════════ -->
<aside class="sidebar">
  <div class="sidebar-logo">
    <div style="display:flex;align-items:center;gap:10px;">
      <div class="logo-badge">
        <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/></svg>
      </div>
      <div>
        <div style="font-size:14px;font-weight:700;letter-spacing:-.02em;">API Key Tester</div>
        <div style="font-size:11px;color:var(--muted);">Validate Instantly</div>
      </div>
    </div>
  </div>

  <nav class="sidebar-nav">
    <div class="nav-section-label">Testing</div>
    <div class="nav-item active" onclick="showSection('apis',this)">
      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
      All APIs <span class="nav-count">15</span>
    </div>
    <div class="nav-item" onclick="showSection('history',this)">
      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
      Test History <span class="nav-count" id="historyCount">0</span>
    </div>

    <div class="nav-section-label">Info</div>
    <div class="nav-item" onclick="showSection('about',this)">
      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
      About
    </div>
  </nav>

  <div class="sidebar-footer">
    <span style="font-size:11px;color:var(--muted);">v1.0.0</span>
    <div style="display:flex;gap:6px;">
      <div class="theme-btn" onclick="toggleTheme()" title="Toggle theme">
        <svg id="themeIcon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/></svg>
      </div>
    </div>
  </div>
</aside>

<!-- ══════════════════ MAIN ══════════════════ -->
<main class="main">

  <!-- ── Section: All APIs ── -->
  <div class="section active" id="sec-apis">
    <div class="page-header">
      <div style="display:flex;align-items:center;justify-content:space-between;">
        <div>
          <div class="page-title">API Key Tester</div>
          <div class="page-sub">Validate your API keys instantly — secure, fast, and private</div>
        </div>
        <div style="display:flex;gap:8px;">
          <button class="btn btn-secondary btn-sm" onclick="clearAllInputs()">
            <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
            Clear All
          </button>
        </div>
      </div>
    </div>

    <!-- Stats -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon" style="background:linear-gradient(135deg,rgba(99,102,241,.15),rgba(139,92,246,.1));">
          <svg width="20" height="20" fill="none" stroke="#818cf8" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
        </div>
        <div>
          <div class="stat-value">15</div>
          <div class="stat-label">APIs Available</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background:linear-gradient(135deg,rgba(16,185,129,.15),rgba(16,185,129,.05));">
          <svg width="20" height="20" fill="none" stroke="#34d399" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
        </div>
        <div>
          <div class="stat-value" id="statTested">0</div>
          <div class="stat-label">Tested This Session</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background:linear-gradient(135deg,rgba(59,130,246,.15),rgba(59,130,246,.05));">
          <svg width="20" height="20" fill="none" stroke="#60a5fa" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
        </div>
        <div>
          <div class="stat-value">3</div>
          <div class="stat-label">Categories</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon" style="background:linear-gradient(135deg,rgba(139,92,246,.15),rgba(139,92,246,.05));">
          <svg width="20" height="20" fill="none" stroke="#c4b5fd" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>
        </div>
        <div>
          <div class="stat-value" style="font-size:14px;">Secure</div>
          <div class="stat-label">Keys Never Stored</div>
        </div>
      </div>
    </div>

    <!-- Filter chips -->
    <div class="filter-bar">
      <div class="filter-chip active" onclick="filterCards('all',this)">All (15)</div>
      <div class="filter-chip" onclick="filterCards('ai',this)">AI Models (7)</div>
      <div class="filter-chip" onclick="filterCards('image',this)">Image Generation (2)</div>
      <div class="filter-chip" onclick="filterCards('social',this)">Social & Platforms (6)</div>
    </div>

    <!-- API Cards Grid -->
    <div class="api-grid" id="apiGrid">
      <!-- Injected by JS -->
    </div>
  </div>

  <!-- ── Section: History ── -->
  <div class="section" id="sec-history">
    <div class="page-header">
      <div style="display:flex;align-items:center;justify-content:space-between;">
        <div>
          <div class="page-title">Test History</div>
          <div class="page-sub">Results from your current session — not persisted</div>
        </div>
        <button class="btn btn-secondary btn-sm" onclick="clearHistory()">
          <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
          Clear History
        </button>
      </div>
    </div>
    <div id="historyList">
      <div class="empty-state">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
        <div style="font-size:14px;font-weight:600;margin-bottom:4px;">No tests yet</div>
        <p>Try testing an API key — results will appear here</p>
      </div>
    </div>
  </div>

  <!-- ── Section: About ── -->
  <div class="section" id="sec-about">
    <div class="page-header">
      <div class="page-title">About API Key Tester</div>
      <div class="page-sub">How it works, security, and frequently asked questions</div>
    </div>

    <!-- Privacy banner -->
    <div class="card" style="padding:20px;margin-bottom:24px;border-left:3px solid #34d399;">
      <div style="display:flex;align-items:center;gap:10px;margin-bottom:8px;">
        <svg width="20" height="20" fill="none" stroke="#34d399" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
        <span style="font-size:14px;font-weight:600;">Your Keys Are Safe</span>
      </div>
      <p style="font-size:12px;color:var(--muted2);line-height:1.7;">
        API keys are sent to our local proxy server solely to make the test API call (avoiding browser CORS restrictions).
        Keys are <strong style="color:var(--text);">never stored, logged, cached, or transmitted to any third party</strong>.
        Each key is used for a single validation request and immediately discarded.
      </p>
    </div>

    <!-- How it works -->
    <div style="margin-bottom:32px;">
      <div style="font-size:15px;font-weight:600;margin-bottom:4px;">How It Works</div>
      <div style="font-size:12px;color:var(--muted);margin-bottom:16px;">Three simple steps to validate any API key</div>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <div class="step-title">Paste Your Key</div>
          <div class="step-desc">Enter your API key or access token in the provider's card</div>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <div class="step-title">We Test It</div>
          <div class="step-desc">A lightweight API call is made to verify the key works</div>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <div class="step-title">See Results</div>
          <div class="step-desc">Get instant feedback — valid, invalid, expired, or rate limited</div>
        </div>
      </div>
    </div>

    <!-- FAQ -->
    <div style="margin-bottom:32px;">
      <div style="font-size:15px;font-weight:600;margin-bottom:12px;">Frequently Asked Questions</div>

      <div class="faq-item" onclick="this.classList.toggle('open')">
        <div class="faq-q">
          Is it safe to enter my API keys here?
          <svg class="faq-arrow" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </div>
        <div class="faq-a">Yes. Your keys are sent to the local Express server only to avoid CORS browser restrictions. The server makes a single test API call, returns the result, and the key is never stored, logged, or sent anywhere else. The entire app is open-source — you can verify this yourself.</div>
      </div>
      <div class="faq-item" onclick="this.classList.toggle('open')">
        <div class="faq-q">
          What API providers are supported?
          <svg class="faq-arrow" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </div>
        <div class="faq-a">We currently support 15 providers across 3 categories: AI Models (OpenAI, Anthropic Claude, Google Gemini, Mistral, DeepSeek, Groq, Cohere), Image Generation (Leonardo AI, FAL AI), and Social & Platforms (Facebook, YouTube, LinkedIn, TikTok, Pinterest, Stripe).</div>
      </div>
      <div class="faq-item" onclick="this.classList.toggle('open')">
        <div class="faq-q">
          Why did my test fail?
          <svg class="faq-arrow" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </div>
        <div class="faq-a">Common reasons include: invalid or revoked key, expired access token, insufficient credits or quota, rate limiting, or the API service being temporarily unavailable. The error message returned will indicate the specific issue.</div>
      </div>
      <div class="faq-item" onclick="this.classList.toggle('open')">
        <div class="faq-q">
          Does testing consume my API credits?
          <svg class="faq-arrow" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </div>
        <div class="faq-a">We use the smallest possible request for each API (e.g., max_tokens: 5 for LLMs, minimal test payloads). The cost is negligible — typically fractions of a cent per test. Some endpoints like Leonardo's /me or Stripe's /balance are completely free.</div>
      </div>
      <div class="faq-item" onclick="this.classList.toggle('open')">
        <div class="faq-q">
          Is test history saved permanently?
          <svg class="faq-arrow" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
        </div>
        <div class="faq-a">No. Test history is stored only in browser memory for your current session. When you close or refresh the page, all history is gone. We never persist any test data or API keys.</div>
      </div>
    </div>
  </div>

</main>

<!-- ══════════════════ TOAST CONTAINER ══════════════════ -->
<div id="toastWrap"></div>

<script>
// ══════════════════════════════════════════════════════════════
// DATA — 15 API Provider Definitions
// ══════════════════════════════════════════════════════════════
const API_PROVIDERS = [
  // ── AI Models ──
  {
    id: 'openai', name: 'OpenAI', category: 'ai',
    gradient: 'linear-gradient(135deg, #10a37f, #1a7f5a)', letter: 'O',
    desc: 'Tests GPT model access via chat completions endpoint',
    placeholder: 'sk-...',
    docsUrl: 'https://platform.openai.com/api-keys',
  },
  {
    id: 'anthropic', name: 'Anthropic Claude', category: 'ai',
    gradient: 'linear-gradient(135deg, #d97757, #b85c3a)', letter: 'A',
    desc: 'Tests Claude model access via messages endpoint',
    placeholder: 'sk-ant-...',
    docsUrl: 'https://console.anthropic.com/settings/keys',
  },
  {
    id: 'gemini', name: 'Google Gemini', category: 'ai',
    gradient: 'linear-gradient(135deg, #4285f4, #34a853)', letter: 'G',
    desc: 'Tests Gemini model access via generateContent endpoint',
    placeholder: 'AIza...',
    docsUrl: 'https://aistudio.google.com/apikey',
  },
  {
    id: 'mistral', name: 'Mistral AI', category: 'ai',
    gradient: 'linear-gradient(135deg, #ff7000, #ff4500)', letter: 'M',
    desc: 'Tests Mistral model access via chat completions endpoint',
    placeholder: 'Your Mistral API key',
    docsUrl: 'https://console.mistral.ai/api-keys',
  },
  {
    id: 'deepseek', name: 'DeepSeek', category: 'ai',
    gradient: 'linear-gradient(135deg, #4d6bfe, #3451d1)', letter: 'D',
    desc: 'Tests DeepSeek model access via chat completions endpoint',
    placeholder: 'sk-...',
    docsUrl: 'https://platform.deepseek.com/api_keys',
  },
  {
    id: 'groq', name: 'Groq', category: 'ai',
    gradient: 'linear-gradient(135deg, #f55036, #c9302c)', letter: 'G',
    desc: 'Tests Groq ultra-fast inference via chat completions endpoint',
    placeholder: 'gsk_...',
    docsUrl: 'https://console.groq.com/keys',
  },
  {
    id: 'cohere', name: 'Cohere', category: 'ai',
    gradient: 'linear-gradient(135deg, #39594d, #2a7d5f)', letter: 'C',
    desc: 'Tests Cohere model access via chat endpoint',
    placeholder: 'Your Cohere API key',
    docsUrl: 'https://dashboard.cohere.com/api-keys',
  },
  // ── Image Generation ──
  {
    id: 'leonardo', name: 'Leonardo AI', category: 'image',
    gradient: 'linear-gradient(135deg, #8b5cf6, #6d28d9)', letter: 'L',
    desc: 'Tests Leonardo API access via user info endpoint',
    placeholder: 'Your Leonardo API key',
    docsUrl: 'https://docs.leonardo.ai',
  },
  {
    id: 'fal', name: 'FAL AI', category: 'image',
    gradient: 'linear-gradient(135deg, #06b6d4, #0891b2)', letter: 'F',
    desc: 'Tests FAL.ai API access by submitting a minimal job',
    placeholder: 'Your FAL API key',
    docsUrl: 'https://fal.ai/dashboard/keys',
  },
  // ── Social & Platforms ──
  {
    id: 'facebook', name: 'Facebook (Meta)', category: 'social',
    gradient: 'linear-gradient(135deg, #1877f2, #0c5dc7)', letter: 'f',
    desc: 'Tests Facebook Graph API access token validity',
    placeholder: 'Your access token',
    docsUrl: 'https://developers.facebook.com',
  },
  {
    id: 'youtube', name: 'YouTube Data API', category: 'social',
    gradient: 'linear-gradient(135deg, #ff0000, #cc0000)', letter: 'Y',
    desc: 'Tests YouTube Data API v3 key validity',
    placeholder: 'AIza...',
    docsUrl: 'https://console.cloud.google.com/apis/credentials',
  },
  {
    id: 'linkedin', name: 'LinkedIn', category: 'social',
    gradient: 'linear-gradient(135deg, #0a66c2, #004182)', letter: 'in',
    desc: 'Tests LinkedIn API access token via userinfo endpoint',
    placeholder: 'Your access token',
    docsUrl: 'https://developer.linkedin.com',
  },
  {
    id: 'tiktok', name: 'TikTok', category: 'social',
    gradient: 'linear-gradient(135deg, #010101, #25f4ee)', letter: 'T',
    desc: 'Tests TikTok API access token validity',
    placeholder: 'Your access token',
    docsUrl: 'https://developers.tiktok.com',
  },
  {
    id: 'pinterest', name: 'Pinterest', category: 'social',
    gradient: 'linear-gradient(135deg, #e60023, #ad081b)', letter: 'P',
    desc: 'Tests Pinterest API access token via user account endpoint',
    placeholder: 'Your access token',
    docsUrl: 'https://developers.pinterest.com',
  },
  {
    id: 'stripe', name: 'Stripe', category: 'social',
    gradient: 'linear-gradient(135deg, #635bff, #4f46e5)', letter: 'S',
    desc: 'Tests Stripe API key by fetching account balance',
    placeholder: 'sk_test_... or sk_live_...',
    docsUrl: 'https://dashboard.stripe.com/apikeys',
  },
];

const categoryLabels = { ai: 'AI', image: 'Image', social: 'Platform' };
const categoryBadge  = { ai: 'badge-indigo', image: 'badge-purple', social: 'badge-blue' };

// ══════════════════════════════════════════════════════════════
// STATE
// ══════════════════════════════════════════════════════════════
let history = [];
let testedCount = 0;

// ══════════════════════════════════════════════════════════════
// RENDER API CARDS
// ══════════════════════════════════════════════════════════════
function renderCards() {
  const grid = document.getElementById('apiGrid');
  grid.innerHTML = API_PROVIDERS.map(p => `
    <div class="api-card" id="card-${p.id}" data-category="${p.category}">
      <div class="api-card-header">
        <div class="api-icon" style="background:${p.gradient};">${p.letter}</div>
        <div style="flex:1;min-width:0;">
          <div class="api-name">${p.name}</div>
        </div>
        <span class="badge ${categoryBadge[p.category]}">${categoryLabels[p.category]}</span>
      </div>
      <div class="api-desc">${p.desc}</div>
      <div class="key-input-wrap">
        <input class="input" type="password" id="key-${p.id}" placeholder="${p.placeholder}"
               onkeydown="if(event.key==='Enter')testApiKey('${p.id}')"/>
        <button class="key-toggle" onclick="toggleVis('key-${p.id}')" title="Show/Hide">
          <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
        </button>
      </div>
      <div class="api-actions">
        <button class="btn btn-primary btn-sm" id="btn-${p.id}" onclick="testApiKey('${p.id}')">
          <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/></svg>
          Test Key
        </button>
        <a class="btn btn-secondary btn-sm" href="${p.docsUrl}" target="_blank" rel="noopener">
          <svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
          Docs
        </a>
      </div>
      <div class="result-box" id="result-${p.id}"></div>
    </div>
  `).join('');
}

// ══════════════════════════════════════════════════════════════
// TEST API KEY
// ══════════════════════════════════════════════════════════════
async function testApiKey(provider) {
  const input = document.getElementById(`key-${provider}`);
  const btn   = document.getElementById(`btn-${provider}`);
  const card  = document.getElementById(`card-${provider}`);
  const box   = document.getElementById(`result-${provider}`);
  const key   = input.value.trim();

  if (!key) {
    showToast('Please enter an API key first', 'error');
    input.focus();
    return;
  }

  // UI: testing state
  btn.disabled = true;
  btn.innerHTML = '<div class="loading-spinner"></div> Testing...';
  card.classList.add('testing');
  box.className = 'result-box';
  box.style.display = 'none';

  try {
    const res  = await fetch(`/api/test/${provider}`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ key }),
    });
    const data = await res.json();

    // Determine box style
    let boxClass = 'error';
    let icon = '<svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>';
    let label = 'Invalid';

    if (data.success) {
      boxClass = 'success';
      icon = '<svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>';
      label = 'Valid';
    } else if (data.type === 'rate_limited') {
      boxClass = 'warning'; label = 'Rate Limited';
      icon = '<svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"/></svg>';
    } else if (data.type === 'expired') {
      boxClass = 'warning'; label = 'Expired';
      icon = '<svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>';
    } else if (data.type === 'insufficient_credits') {
      boxClass = 'warning'; label = 'Insufficient Credits';
    } else if (data.type === 'quota_exceeded') {
      boxClass = 'warning'; label = 'Quota Exceeded';
    }

    // Build details HTML
    let detailsHtml = '';
    if (data.details) {
      detailsHtml = Object.entries(data.details).map(([k, v]) => {
        const display = typeof v === 'object' ? JSON.stringify(v) : v;
        return `<div>${k}: <span>${display}</span></div>`;
      }).join('');
    }

    box.className = `result-box ${boxClass} visible`;
    box.style.display = 'block';
    box.innerHTML = `
      <div class="result-header">${icon} ${label} &nbsp;—&nbsp; ${data.responseTime}ms</div>
      <div style="font-size:12px;margin-bottom:${detailsHtml ? 6 : 0}px;">${data.message}</div>
      ${detailsHtml ? `<div class="result-detail">${detailsHtml}</div>` : ''}
    `;

    // Scroll into view
    box.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

    // Add to history
    addHistory(provider, data);
    testedCount++;
    document.getElementById('statTested').textContent = testedCount;

    showToast(
      data.success ? `${getProviderName(provider)}: Key is valid!` : `${getProviderName(provider)}: ${label}`,
      data.success ? 'success' : 'error'
    );

  } catch (err) {
    box.className = 'result-box error visible';
    box.style.display = 'block';
    box.innerHTML = `
      <div class="result-header"><svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg> Connection Error</div>
      <div style="font-size:12px;">${err.message}</div>
    `;
    showToast('Connection error — is the server running?', 'error');
  } finally {
    btn.disabled = false;
    btn.innerHTML = `<svg width="14" height="14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/></svg> Test Key`;
    card.classList.remove('testing');
  }
}

// ══════════════════════════════════════════════════════════════
// HISTORY
// ══════════════════════════════════════════════════════════════
function addHistory(provider, result) {
  const prov = API_PROVIDERS.find(p => p.id === provider);
  history.unshift({
    provider,
    name: prov?.name || provider,
    gradient: prov?.gradient || '#333',
    letter: prov?.letter || '?',
    success: result.success,
    type: result.type,
    message: result.message,
    responseTime: result.responseTime,
    timestamp: new Date(),
  });
  document.getElementById('historyCount').textContent = history.length;
  renderHistory();
}

function renderHistory() {
  const el = document.getElementById('historyList');
  if (!history.length) {
    el.innerHTML = `<div class="empty-state">
      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
      <div style="font-size:14px;font-weight:600;margin-bottom:4px;">No tests yet</div>
      <p>Try testing an API key — results will appear here</p>
    </div>`;
    return;
  }
  el.innerHTML = history.map(h => {
    const badgeClass = h.success ? 'badge-green' : (h.type === 'rate_limited' || h.type === 'expired' || h.type === 'insufficient_credits' || h.type === 'quota_exceeded') ? 'badge-yellow' : 'badge-red';
    const label = h.success ? 'Valid' : h.type === 'rate_limited' ? 'Rate Limited' : h.type === 'expired' ? 'Expired' : h.type === 'insufficient_credits' ? 'No Credits' : h.type === 'quota_exceeded' ? 'Quota Exceeded' : 'Invalid';
    const time = h.timestamp.toLocaleTimeString();
    return `<div class="history-row">
      <div class="history-icon" style="background:${h.gradient};">${h.letter}</div>
      <div class="history-info">
        <div class="history-name">${h.name}</div>
        <div class="history-time">${time} &middot; ${h.responseTime}ms</div>
      </div>
      <div class="history-meta">
        <span class="badge ${badgeClass}">${label}</span>
      </div>
    </div>`;
  }).join('');
}

function clearHistory() {
  history = [];
  document.getElementById('historyCount').textContent = '0';
  renderHistory();
  showToast('History cleared', 'info');
}

// ══════════════════════════════════════════════════════════════
// NAVIGATION
// ══════════════════════════════════════════════════════════════
function showSection(name, navEl) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
  const sec = document.getElementById(`sec-${name}`);
  if (sec) sec.classList.add('active');
  if (navEl) navEl.classList.add('active');
}

// ══════════════════════════════════════════════════════════════
// FILTER
// ══════════════════════════════════════════════════════════════
function filterCards(category, chipEl) {
  document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
  if (chipEl) chipEl.classList.add('active');
  document.querySelectorAll('.api-card').forEach(card => {
    if (category === 'all' || card.dataset.category === category) {
      card.style.display = '';
    } else {
      card.style.display = 'none';
    }
  });
}

// ══════════════════════════════════════════════════════════════
// HELPERS
// ══════════════════════════════════════════════════════════════
function toggleVis(inputId) {
  const inp = document.getElementById(inputId);
  inp.type = inp.type === 'password' ? 'text' : 'password';
}

function getProviderName(id) {
  return API_PROVIDERS.find(p => p.id === id)?.name || id;
}

function clearAllInputs() {
  API_PROVIDERS.forEach(p => {
    const inp = document.getElementById(`key-${p.id}`);
    if (inp) inp.value = '';
    const box = document.getElementById(`result-${p.id}`);
    if (box) { box.className = 'result-box'; box.style.display = 'none'; }
  });
  showToast('All inputs cleared', 'info');
}

// ══════════════════════════════════════════════════════════════
// THEME
// ══════════════════════════════════════════════════════════════
function toggleTheme() {
  document.body.classList.toggle('light');
  const isLight = document.body.classList.contains('light');
  localStorage.setItem('akt-theme', isLight ? 'light' : 'dark');
  document.getElementById('themeIcon').innerHTML = isLight
    ? '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>'
    : '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"/>';
}

// ══════════════════════════════════════════════════════════════
// TOAST
// ══════════════════════════════════════════════════════════════
function showToast(msg, type = 'info') {
  const wrap = document.getElementById('toastWrap');
  const toast = document.createElement('div');
  toast.className = `toast toast-${type}`;
  const icons = {
    success: '<svg width="18" height="18" fill="none" stroke="#34d399" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>',
    error: '<svg width="18" height="18" fill="none" stroke="#f87171" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>',
    info: '<svg width="18" height="18" fill="none" stroke="#60a5fa" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>',
  };
  toast.innerHTML = `${icons[type] || icons.info}<span>${msg}</span>`;
  wrap.appendChild(toast);
  setTimeout(() => { toast.style.opacity = '0'; toast.style.transform = 'translateX(16px)'; toast.style.transition = 'all .2s'; }, 3000);
  setTimeout(() => toast.remove(), 3250);
}

// ══════════════════════════════════════════════════════════════
// INIT
// ══════════════════════════════════════════════════════════════
(function init() {
  // Restore theme
  if (localStorage.getItem('akt-theme') === 'light') {
    document.body.classList.add('light');
    document.getElementById('themeIcon').innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>';
  }
  // Render cards
  renderCards();
})();
</script>
</body>
</html>
